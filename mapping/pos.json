{
  "mappings":
  {
    "pos":
    {
      "properties":
      {
        "terminal_header":
        {
          "type": "text"
        },
        "store":
        {
          "type": "text"
        },
        "store_id":
        {
          "type": "keyword"
        },
        "store_name":
        {
          "type": "text"
        },
        "store_code":
        {
          "type": "keyword"
        },
        "store_type":
        {
          "type": "keyword"
        },
        "store_us_id":
        {
          "type": "keyword"
        },
        "operator":
        {
          "type": "text"
        },
        "operator_name":
        {
          "type": "text"
        },
        "upload":
        {
          "type": "text"
        },
        "hash":
        {
          "type": "text"
        },
        "action_type":
        {
          "type": "keyword"
        },
        "terminal_open_time":
        {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis"
        },
        "sales_date":
        {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis"
        },
        "created":
        {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis"
        },
        "payload":
        {
          "type": "nested",
          "properties":
          {
            "transaction_type":
            {
              "type": "keyword"
            },
            "body":
            {
              "type": "nested",
              "properties":
              {
                "pre_sell_amount":
                {
                  "type": "text"
                },
                "hex_no_cup_item_quantity":
                {
                  "type": "long"
                },
                "hex_no_cup_net_amount":
                {
                  "type": "double"
                },
                "hex_no_cup_amount":
                {
                  "type": "double"
                },
                "hex_amount":
                {
                  "type": "double"
                },
                "hex_trans_discount_amount":
                {
                  "type": "double"
                },
                "hex_dis_amount":
                {
                  "type": "double"
                },
                "hex_discount_count":
                {
                  "type": "long"
                },
                "hex_master_discount_amount":
                {
                  "type": "text"
                },
                "hex_discount_list":
                {
                  "type": "nested",
                  "properties":
                  {
                    "is_order":
                    {
                      "type": "boolean"
                    },
                    "is_trans":
                    {
                      "type": "boolean"
                    },
                    "amount":
                    {
                      "type": "double"
                    },
                    "name":
                    {
                      "type": "text"
                    },
                    "code":
                    {
                      "type": "keyword"
                    },
                    "id":
                    {
                      "type": "keyword"
                    },
                    "qty":
                    {
                      "type": "long"
                    },
                    "promotion_id":
                    {
                      "type": "keyword"
                    }
                  }
                },
                "hex_has_discount":
                {
                  "type": "nested",
                  "properties":
                  {
                    "master":
                    {
                      "type": "text"
                    },
                    "item_coupon":
                    {
                      "type": "text"
                    },
                    "order_coupon":
                    {
                      "type": "text"
                    },
                    "item":
                    {
                      "type": "boolean"
                    },
                    "order":
                    {
                      "type": "boolean"
                    }
                  }
                },
                "coupons_order_dis_amount":
                {
                  "type": "text"
                },
                "coupons_dis_amount":
                {
                  "type": "text"
                },
                "es_amount":
                {
                  "type": "double"
                },
                "hex_discount_id":
                {
                  "type": "keyword"
                },
                "hex_trans_payments":
                {
                  "type": "text"
                },
                "is_cancel":
                {
                  "type": "boolean"
                },
                "open_user_id":
                {
                  "type": "keyword"
                },
                "disc_user_id":
                {
                  "type": "keyword"
                },
                "pay_comment":
                {
                  "type": "text"
                },
                "pay_channel":
                {
                  "type": "text"
                },
                "item_amount":
                {
                  "type": "double"
                },
                "payments":
                {
                  "type": "nested",
                  "properties":
                  {
                    "org_pay_amount":
                    {
                      "type": "double"
                    },
                    "hex_category_name":
                    {
                      "type": "text"
                    },
                    "hex_category_id":
                    {
                      "type": "keyword"
                    },
                    "hex_trans_discounts":
                    {
                      "type": "nested",
                      "properties":
                      {
                        "status":
                        {
                          "type": "text"
                        },
                        "number":
                        {
                          "type": "double"
                        },
                        "name":
                        {
                          "type": "text"
                        },
                        "id":
                        {
                          "type": "keyword"
                        },
                        "computing_unit":
                        {
                          "type": "text"
                        },
                        "code":
                        {
                          "type": "keyword"
                        },
                        "category_name":
                        {
                          "type": "text"
                        },
                        "category_id":
                        {
                          "type": "keyword"
                        },
                        "category_code":
                        {
                          "type": "keyword"
                        },
                        "attribute":
                        {
                          "type": "text"
                        }
                      }
                    },
                    "hex_trans_discount_amount":
                    {
                      "type": "double"
                    },
                    "hex_priority":
                    {
                      "type": "long"
                    },
                    "hex_pay_amount":
                    {
                      "type": "double"
                    },
                    "hex_id":
                    {
                      "type": "keyword"
                    },
                    "tips_amount":
                    {
                      "type": "text"
                    },
                    "rule_amount":
                    {
                      "type": "text"
                    },
                    "tender_name":
                    {
                      "type": "text"
                    },
                    "db_fav_data":
                    {
                      "type": "double"
                    },
                    "n_link_discount_id":
                    {
                      "type": "text"
                    },
                    "dis_amount":
                    {
                      "type": "text"
                    },
                    "amount":
                    {
                      "type": "double"
                    },
                    "id":
                    {
                      "type": "keyword"
                    },
                    "guid":
                    {
                      "type": "keyword"
                    },
                    "dis_rate":
                    {
                      "type": "text"
                    },
                    "order_no":
                    {
                      "type": "keyword"
                    },
                    "pay_time":
                    {
                      "type": "date",
                      "format": "yyyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis"
                    },
                    "es_amount":
                    {
                      "type": "double"
                    },
                    "tender_id":
                    {
                      "type": "keyword"
                    },
                    "db_fav_amount":
                    {
                      "type": "double"
                    },
                    "tender_type":
                    {
                      "type": "keyword"
                    },
                    "bus_date":
                    {
                      "type": "date",
                      "format": "yyyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis"
                    },
                    "change":
                    {
                      "type": "double"
                    },
                    "pay_amount":
                    {
                      "type": "double"
                    },
                    "dept_id":
                    {
                      "type": "text"
                    },
                    "order_unique_no":
                    {
                      "type": "keyword"
                    },
                    "class_id":
                    {
                      "type": "text"
                    },
                    "tender_key_id":
                    {
                      "type": "keyword"
                    },
                    "tender_meta_id":
                    {
                      "type": "keyword"
                    }
                  }
                },
                "xgu_id":
                {
                  "type": "keyword"
                },
                "chargehostid":
                {
                  "type": "keyword"
                },
                "peoples":
                {
                  "type": "long"
                },
                "address":
                {
                  "type": "text"
                },
                "items":
                {
                  "type": "nested",
                  "properties":
                  {
                    "hex_dis_amount":
                    {
                      "type": "double"
                    },
                    "dis_amount":
                    {
                      "type": "double"
                    },
                    "hex_net_amount":
                    {
                      "type": "double"
                    },
                    "net_amount":
                    {
                      "type": "double"
                    },
                    "coupons_item_dis_amount":
                    {
                      "type": "text"
                    },
                    "hex_discount_id":
                    {
                      "type": "keyword"
                    },
                    "hex_trans_payments":
                    {
                      "type": "text"
                    },
                    "hex_extends":
                    {
                      "type": "nested",
                      "properties":
                      {
                        "spec_1":
                        {
                          "type": "text"
                        }
                      }
                    },
                    "unit_id":
                    {
                      "type": "keyword"
                    },
                    "hex_is_cup":
                    {
                      "type": "boolean"
                    },
                    "hex_main_type":
                    {
                      "type": "keyword"
                    },
                    "hex_id":
                    {
                      "type": "keyword"
                    },
                    "categories":
                    {
                      "type": "nested",
                      "properties":
                      {
                        "parent_id":
                        {
                          "type": "keyword"
                        },
                        "code":
                        {
                          "type": "keyword"
                        },
                        "name":
                        {
                          "type": "text"
                        },
                        "id":
                        {
                          "type": "keyword"
                        }
                      }
                    },
                    "category":
                    {
                      "type": "nested",
                      "properties":
                      {
                        "parent_id":
                        {
                          "type": "keyword"
                        },
                        "code":
                        {
                          "type": "keyword"
                        },
                        "name":
                        {
                          "type": "text"
                        },
                        "id":
                        {
                          "type": "keyword"
                        }
                      }
                    },
                    "hex_item_discount_amount":
                    {
                      "type": "double"
                    },
                    "hex_item_trans_payment_amount":
                    {
                      "type": "text"
                    },
                    "hex_order_discount_balance_with_trans":
                    {
                      "type": "double"
                    },
                    "hex_order_discount_balance":
                    {
                      "type": "double"
                    },
                    "hex_trans_payment_balance":
                    {
                      "type": "text"
                    },
                    "hex_trans_discount_balance":
                    {
                      "type": "text"
                    },
                    "catalog_id":
                    {
                      "type": "keyword"
                    },
                    "meal_deal_master_id":
                    {
                      "type": "keyword"
                    },
                    "item_id":
                    {
                      "type": "keyword"
                    },
                    "dis_odr_amount":
                    {
                      "type": "double"
                    },
                    "dis_itm_amount":
                    {
                      "type": "double"
                    },
                    "price":
                    {
                      "type": "double"
                    },
                    "unit":
                    {
                      "type": "text"
                    },
                    "guid":
                    {
                      "type": "keyword"
                    },
                    "discount":
                    {
                      "type": "long"
                    },
                    "qty":
                    {
                      "type": "long"
                    },
                    "dis_style":
                    {
                      "type": "long"
                    },
                    "credit_total":
                    {
                      "type": "text"
                    },
                    "dis_name":
                    {
                      "type": "text"
                    },
                    "amount_ex":
                    {
                      "type": "double"
                    },
                    "depart_id":
                    {
                      "type": "keyword"
                    },
                    "credit_amount":
                    {
                      "type": "text"
                    },
                    "parent_id":
                    {
                      "type": "keyword"
                    },
                    "plu":
                    {
                      "type": "text"
                    },
                    "n_discount_grp":
                    {
                      "type": "long"
                    },
                    "dis_key_id":
                    {
                      "type": "long"
                    },
                    "name":
                    {
                      "type": "text"
                    },
                    "coupons":
                    {
                      "type": "text"
                    },
                    "amount":
                    {
                      "type": "double"
                    },
                    "key_id":
                    {
                      "type": "keyword"
                    },
                    "order_no":
                    {
                      "type": "keyword"
                    },
                    "type":
                    {
                      "type": "keyword"
                    },
                    "bus_date":
                    {
                      "type": "date",
                      "format": "yyyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis"
                    },
                    "base_price":
                    {
                      "type": "double"
                    },
                    "meal_deal_item_id":
                    {
                      "type": "keyword"
                    },
                    "discounts":
                    {
                      "type": "nested",
                      "properties":
                      {
                        "name":
                        {
                          "type": "text"
                        },
                        "code":
                        {
                          "type": "keyword"
                        },
                        "amount":
                        {
                          "type": "double"
                        },
                        "count":
                        {
                          "type": "long"
                        }
                      }
                    },
                    "condiments":
                    {
                      "type": "text"
                    },
                    "order_unique_no":
                    {
                      "type": "keyword"
                    },
                    "dis_count":
                    {
                      "type": "text"
                    },
                    "pending":
                    {
                      "type": "boolean"
                    },
                    "item_key_id":
                    {
                      "type": "keyword"
                    }
                  }
                },
                "pay_method":
                {
                  "type": "text"
                },
                "pay_benefit":
                {
                  "type": "text"
                },
                "dis_amount":
                {
                  "type": "double"
                },
                "none_bus_amount":
                {
                  "type": "long"
                },
                "disc_name":
                {
                  "type": "text"
                },
                "yuni_number":
                {
                  "type": "text"
                },
                "discount":
                {
                  "type": "long"
                },
                "present_amount":
                {
                  "type": "double"
                },
                "card_no":
                {
                  "type": "keyword"
                },
                "open_user_name":
                {
                  "type": "text"
                },
                "disc_style":
                {
                  "type": "long"
                },
                "customer_name":
                {
                  "type": "text"
                },
                "close_time":
                {
                  "type": "date",
                  "format": "yyyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis"
                },
                "pos_name":
                {
                  "type": "text"
                },
                "close_user_name":
                {
                  "type": "text"
                },
                "pay_amount":
                {
                  "type": "double"
                },
                "item_count":
                {
                  "type": "long"
                },
                "close_user_id":
                {
                  "type": "keyword"
                },
                "disc_key_id":
                {
                  "type": "keyword"
                },
                "sum_change":
                {
                  "type": "double"
                },
                "coupons":
                {
                  "type": "text"
                },
                "amount":
                {
                  "type": "double"
                },
                "open_time":
                {
                  "type": "date",
                  "format": "yyyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis"
                },
                "order_no":
                {
                  "type": "keyword"
                },
                "pos_id":
                {
                  "type": "keyword"
                },
                "disc_item_amount":
                {
                  "type": "double"
                },
                "disc_order_amount":
                {
                  "type": "double"
                },
                "bus_date":
                {
                  "type": "date",
                  "format": "yyyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis"
                },
                "active_code":
                {
                  "type": "keyword"
                },
                "phone":
                {
                  "type": "text"
                },
                "net_amount":
                {
                  "type": "double"
                },
                "original_open_time":
                {
                  "type": "date",
                  "format": "yyyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis"
                },
                "dept_class_name":
                {
                  "type": "text"
                },
                "discounts":
                {
                  "type": "nested",
                  "properties":
                  {
                    "code":
                    {
                      "type": "keyword"
                    },
                    "amount":
                    {
                      "type": "double"
                    },
                    "count":
                    {
                      "type": "long"
                    }
                  }
                },
                "order_unique_no":
                {
                  "type": "keyword"
                },
                "sales_date":
                {
                  "type": "date",
                  "format": "yyyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis"
                },
                "sales_date_dict":
                {
                  "type": "nested",
                  "properties":
                  {
                    "month":
                    {
                      "type": "keyword"
                    },
                    "day":
                    {
                      "type": "keyword"
                    },
                    "hour":
                    {
                      "type": "keyword"
                    }
                  }
                }
              }
            },
            "header":
            {
              "type": "nested",
              "properties":
              {
                "from":
                {
                  "type": "date",
                  "format": "yyyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis"
                },
                "to":
                {
                  "type": "date",
                  "format": "yyyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis"
                },
                "total":
                {
                  "type": "long"
                }
              }
            }
          }
        },
        "store_branch":
        {
          "type": "nested",
          "properties":
          {
            "parent_id":
            {
              "type": "keyword"
            },
            "name":
            {
              "type": "text"
            },
            "id":
            {
              "type": "keyword"
            }
          }
        },
        "store_geo":
        {
          "type": "nested",
          "properties":
          {
            "parent_id":
            {
              "type": "keyword"
            },
            "name":
            {
              "type": "text"
            },
            "id":
            {
              "type": "keyword"
            }
          }
        },
        "__v":
        {
          "type": "text"
        },
        "original_open_time":
        {
          "type": "date",
          "format": "yyyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis"
        },
        "is_broadcast":
        {
          "type": "boolean"
        },
        "sales_date_dict":
        {
          "type": "nested",
          "properties":
          {
            "month":
            {
              "type": "keyword"
            },
            "day":
            {
              "type": "keyword"
            },
            "hour":
            {
              "type": "keyword"
            }
          }
        },
        "terminal_open_time_dict":
        {
          "type": "nested",
          "properties":
          {
            "month":
            {
              "type": "keyword"
            },
            "day":
            {
              "type": "keyword"
            },
            "hour":
            {
              "type": "keyword"
            }
          }
        },
        "store_branch_dict":
        {
          "type": "nested",
          "properties":
          {
            "1":
            {
              "type": "keyword"
            },
            "2":
            {
              "type": "keyword"
            },
            "3":
            {
              "type": "keyword"
            }
          }
        },
        "store_geo_dict":
        {
          "type": "nested",
          "properties":
          {
            "1":
            {
              "type": "keyword"
            },
            "2":
            {
              "type": "keyword"
            },
            "3":
            {
              "type": "keyword"
            }
          }
        }
      }
    }
  }
}